#!/usr/bin/env bash
# This script reads /etc/passwd and tells a story based on its fields.

# 1. USERNAME
# 2. PASSWORD (usually 'x')
# 3. USER_ID
# 4. GROUP_ID
# 5. USER_ID_INFO (GECOS)
# 6. HOME_DIRECTORY
# 7. COMMAND_SHELL

while IFS=: read -r USERNAME PASSWORD USER_ID GROUP_ID USER_ID_INFO HOME_DIRECTORY COMMAND_SHELL; do
    
    # Check if USERNAME is non-empty before printing (good practice)
    if [ -n "$USERNAME" ]; then
        
        # Construct the required output sentence using all variables
        echo "The user ${USERNAME} is part of the ${GROUP_ID} gang, lives in ${HOME_DIRECTORY} and rides ${COMMAND_SHELL}. ${USER_ID}'s place is protected by the passcode ${PASSWORD}, more info about the user here: ${USER_ID_INFO}"
    
    fi

done < /etc/passwd

